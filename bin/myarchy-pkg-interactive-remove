#!/usr/bin/env bash

pkg_to_remove=$(
  yay -Qqe | fzf --multi \
    --preview 'yay -Qi {1}' \
    --preview-window 'down:65%:wrap' \
    --bind 'alt-d:preview-half-page-down,alt-u:preview-half-page-up' \
    --bind 'alt-k:preview-up,alt-j:preview-down' \
    --color 'pointer:red,marker:red'
)

if [[ -n "$pkg_to_remove" ]]; then
  echo "$pkg_to_remove" | tr '\n' ' ' | xargs sudo pacman -Rns --noconfirm
fi
