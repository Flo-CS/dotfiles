#!/usr/bin/env bash

set -euo pipefail

myarchy-deploy-file-by-link files/config/.bashrc ~/.bashrc
myarchy-deploy-file-by-link files/config/.bash_profile ~/.bash_profile

myarchy-deploy-file-by-link files/config/uwsm/env ~/.config/uwsm/env
myarchy-deploy-file-by-link files/config/uwsm/env-hyprland ~/.config/uwsm/env-hyprland

myarchy-deploy-file-by-link files/config/.gitconfig ~/.gitconfig

bat_dir="$(bat --config-dir)"
myarchy-deploy-file-by-link files/config/bat "${bat_dir}/config"
myarchy-deploy-file-by-link files/themes/current/bat.tmTheme "${bat_dir}/themes/current.tmTheme"
bat cache --build || echo "bat cache build failed" >&2

myarchy-deploy-file-by-link files/themes/current/cursor-icons ~/.local/share/icons/cursor

myarchy-deploy-file-by-link files/config/hypr/hyprland.conf ~/.config/hypr/hyprland.conf
myarchy-deploy-file-by-link files/config/hypr/hyprlock.conf ~/.config/hypr/hyprlock.conf
myarchy-deploy-file-by-link files/config/hypr/hypridle.conf ~/.config/hypr/hypridle.conf
myarchy-deploy-file-by-link files/config/hypr/hyprpaper.conf ~/.config/hypr/hyprpaper.conf

myarchy-deploy-file-by-link files/config/btop.conf ~/.config/btop/btop.conf
myarchy-deploy-file-by-link files/themes/current/btop.theme ~/.config/btop/current.theme

myarchy-deploy-file-by-link files/config/kvantum.kvconfig ~/.config/Kvantum/kvantum.kvconfig
myarchy-deploy-file-by-link files/themes/current/kvantum ~/.config/Kvantum/current-theme

myarchy-deploy-file-by-link files/config/quickshell ~/.config/quickshell

myarchy-deploy-file-by-link files/config/waybar.jsonc ~/.config/waybar/config.jsonc
myarchy-deploy-file-by-link files/themes/current/waybar.css ~/.config/waybar/style.css

myarchy-deploy-file-by-link files/config/wofi ~/.config/wofi/config
myarchy-deploy-file-by-link files/themes/current/wofi.css ~/.config/wofi/style.css

myarchy-deploy-file-by-link files/config/nvim ~/.config/nvim
myarchy-deploy-file-by-link files/themes/current/nvim.theme ~/.config/nvim/.theme

myarchy-deploy-file-by-link files/config/atuin.toml ~/.config/atuin/config.toml
myarchy-deploy-file-by-link files/config/alacritty.toml ~/.config/alacritty/alacritty.toml
myarchy-deploy-file-by-link files/themes/current/alacritty.toml ~/.config/alacritty/current-theme.toml
myarchy-render-template files/config/starship.toml.j2
myarchy-deploy-file-by-link files/config/starship.toml ~/.config/starship.toml

myarchy-deploy-file-by-link files/config/user-dirs.dirs ~/.config/user-dirs.dirs
myarchy-deploy-file-by-link files/config/mimeapps.list ~/.config/mimeapps.list

myarchy-deploy-file-by-link files/themes/current/mako.ini ~/.config/mako/config

myarchy-refresh-all
